<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GDSC 2023 - Accessible UI elements</title>

  <link rel="stylesheet" href="./styles.css" type="text/css" />
  <link rel="stylesheet" href="./buttons.css" type="text/css" />
  <link rel="stylesheet" href="./nav.css" type="text/css" />
  <link rel="stylesheet" href="./skipToContent.css" type="text/css" />
  <link rel="stylesheet" href="./darkMode.css" type="text/css" />
  <link rel="stylesheet" href="./disclosureWidget.css" type="text/css" />
  <link rel="stylesheet" href="./reducedMotion.css" type="text/css" />
  <link rel="stylesheet" href="./dialog.css" type="text/css" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&family=Permanent+Marker&display=swap"
    rel="stylesheet">

  <link rel="stylesheet" href="./highlight/styles/github-dark.min.css">
  <script defer src="./highlight/highlight.min.js" onload="hljs.highlightAll()"></script>
</head>

<body>
  <a id="skip-to-content-link" href='#main'>Skip to content</a>

  <header tabindex='-1'>
    <button title='Open menu' id='menu-open-button'>
      <svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 96 960 960" width="48">
        <path d="M120 816v-60h720v60H120Zm0-210v-60h720v60H120Zm0-210v-60h720v60H120Z"/>
      </svg>
    </button>
    <nav tabindex='-1'>
      <button title='Close menu' id='menu-close-button'>
        <svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 96 960 960" width="48">
          <path d="m249 849-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z"/>
        </svg>
      </button>
      <ul>
        <li><a href='#responsive-navigation'>Responsive Navigation</a></li>
        <li><a href='#skip-to-content'>Skip to content</a></li>
        <li><a href='#dark-theme'>Dark theme</a></li>
        <li><a href='#reduced-motion'>Reduced motion</a></li>
        <li><a href='#disclosure-widget'>Disclosure Widget</a></li>
        <li><a href='#icon-button'>Icon button</a></li>
        <li><a href='#dialog'>Dialog</a></li>
      </ul>
    </nav>

    <div class="backdrop"></div>

    <button
      id='theme-toggle-button'
      class="icon-button"
      aria-label="auto"
      aria-live="polite"
    >
      <svg
        class='dark-theme-icon'
        aria-hidden='true'
        xmlns="http://www.w3.org/2000/svg"
        height="48"
        width="48"
        viewBox="0 0 48 48"
      >
        <path d="M24 31q2.9 0 4.95-2.05Q31 26.9 31 24q0-2.9-2.05-4.95Q26.9 17 24 17q-2.9 0-4.95 2.05Q17 21.1 17 24q0 2.9 2.05 4.95Q21.1 31 24 31Zm0 3q-4.15 0-7.075-2.925T14 24q0-4.15 2.925-7.075T24 14q4.15 0 7.075 2.925T34 24q0 4.15-2.925 7.075T24 34ZM3.5 25.5q-.65 0-1.075-.425Q2 24.65 2 24q0-.65.425-1.075Q2.85 22.5 3.5 22.5h5q.65 0 1.075.425Q10 23.35 10 24q0 .65-.425 1.075-.425.425-1.075.425Zm36 0q-.65 0-1.075-.425Q38 24.65 38 24q0-.65.425-1.075.425-.425 1.075-.425h5q.65 0 1.075.425Q46 23.35 46 24q0 .65-.425 1.075-.425.425-1.075.425ZM24 10q-.65 0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 10 24 10Zm0 36q-.65 0-1.075-.425-.425-.425-.425-1.075v-5q0-.65.425-1.075Q23.35 38 24 38q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46ZM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05 0 .6-.4 1-.4.45-1.025.45-.625 0-1.075-.4Zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45ZM33.9 14.1q-.45-.45-.45-1.05 0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4-.625 0-1.075-.4ZM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6 0 1.05.45.45.45.45 1.05 0 .6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425ZM24 24Z" />
      </svg>
      <svg
        class='light-theme-icon'
        aria-hidden='true'
        xmlns="http://www.w3.org/2000/svg"
        height="48"
        width="48"
        viewBox="0 0 48 48"
      >
        <path d="M24 42q-7.5 0-12.75-5.25T6 24q0-7.5 5.25-12.75T24 6q.4 0 .85.025.45.025 1.15.075-1.8 1.6-2.8 3.95-1 2.35-1 4.95 0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6 0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42Zm0-3q5.45 0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75 0-9.775-4.025T19.2 15q0-1.2.25-2.575.25-1.375.9-3.125-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39Zm-.2-14.85Z" />
      </svg>
    </button>
  </header>

  <main id='main'>
    <div class="github-link-wrapper">
      <a href="https://github.com/charisTheo/gdsc-2023-demos/">
        Code on Github
        <svg class="github-logo" width="32" height="32" aria-hidden="true" viewBox="0 0 16 16">
          <path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path>
        </svg>
      </a>
    </div>

    <h1>GDSC 2023 - Accessible UI elements</h1>

    <section id='responsive-navigation'>
      <h2>Responsive Navigation</h2>

      <h3>Navigation HTML</h3>
      <pre><code id='responsive-navigation-html-code'></code></pre>

      <h3>Small screens styles</h3>
      <pre><code>  @media screen and (max-width: 767px) {
    nav {
      position: fixed;
      left: 0;
      top: 0;
      width: 85vw;
      height: 100vh;
      z-index: 2;
      transform: translateX(-100vw);
      transition: all 0.25s;
    }
    .backdrop {
      position: fixed;
      opacity: 0;
      transition: all 0.15s;
      content: '';
      width: 100vw;
      height: 100vh;
      top: 0;
      left: 0;
      background-color: rgba(0, 0, 0, 0.75);
      z-index: -1;
      display: none;
    }
    nav.open {
      transform: translateX(0);
    }
    nav.open + .backdrop {
      opacity: 1;
      z-index: 1;
      display: block;
    }
  }</code></pre>

      <h3>Large screens styles</h3>
      <pre><code>  @media screen and (min-width: 768px) {
    #menu-open-button,
    #menu-close-button {
      display: none;
    }
    nav ul li {
      display: inline-block;
    }
  }</code></pre>

      <h3>Open and close buttons styles</h3>
      <pre><code>  #menu-open-button,
  #menu-close-button {
    width: 48px;
    height: 48px;
    background-color: transparent;
    outline: none;
    border: none;
    cursor: pointer;
  }</code></pre>

      <h3>Navigation JavaScript</h3>
      <pre><code>  const nav = document.querySelector('nav');
  const menuOpenButton = document.querySelector('#menu-open-button');
  const menuCloseButton = document.querySelector('#menu-close-button');

  menuOpenButton.addEventListener('click', openMenu);
  nav.addEventListener('blur', closeMenu);
  menuCloseButton.addEventListener('click', closeMenu);

  function openMenu() {
    nav.classList.add('open');
    nav.focus();
  }
  function closeMenu() {
    // Allow the menu to close after the link click event has finished bubbling
    setTimeout(() => {
      nav.classList.remove('open');
    }, 100);
  }</code></pre>
    </section>

    <section id='skip-to-content'>
      <h2>Skip to content</h2>

      <pre><code id='skip-to-content-html-code'></code></pre>

      <pre><code>  #skip-to-content-link {
    transform: translateY(-100%);
    position: fixed;
    top: 0px;
    left: 10px;
    z-index: 3;
    color: var(--link-color);
    background-color: var(--background-color);
  }

  #skip-to-content-link:focus {
    transform: translateY(10%);
  }</code></pre>
    </section>

    <section id='dark-theme'>
      <h2>Dark theme</h2>

      <pre><code id='dark-theme-html-code'></code></pre>

      <pre><code>  const themeToggleButton = document.querySelector('#theme-toggle-button');
  const initialThemePreference = window.matchMedia('(prefers-color-scheme: dark)').matches;
  updateTheme(initialThemePreference);

  themeToggleButton.addEventListener('click', () => {
    updateTheme(!document.body.classList.contains('dark'));
  });

  window
    .matchMedia('(prefers-color-scheme: dark)')
    .addEventListener('change', ({ matches }) => updateTheme(matches));

  function updateTheme(darkMode) {
    if (darkMode) {
      document.body.classList.add('dark');
      themeToggleButton.title = 'Turn on light mode';
    } else {
      document.body.classList.remove('dark');
      themeToggleButton.title = 'Turn on dark mode';
    }
  }</code></pre>

      <pre><code>  body {
    --text-color: rgb(51 68 77);
    --background-color: rgb(255 255 255);
    --link-color: rgb(63 81 181);

    color: var(--text-color);
    background-color: var(--background-color);
  }
  body.dark {
    --text-color: rgb(255 255 255);
    --background-color: rgb(51 68 77);
    --link-color: rgb(78 235 255);
  }
  a {
    color: var(--link-color);
  }</code></pre>
    </section>

    <section id='reduced-motion'>
      <h2>Reduced motion</h2>

      <h3>Default animations and transitions</h3>
      <pre><code>  html {
    scroll-behavior: smooth;
  }
  nav {
    transform: translateX(-100vw);
    transition: all 0.25s;
  }
  nav.open {
    transform: translateX(0);
  }
  body .light-theme-icon,
  body.dark .dark-theme-icon {
    animation: appear .35s ease-in-out forwards;
  }</code></pre>

      <h3>Media query for preferred reduced motion</h3>
      <pre><code>  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }

    nav {
      transition: none;
    }

    body.dark [class*="theme-icon"],
    body [class*="theme-icon"] {
      animation-duration: 0s;
    }
  }</code></pre>
    </section>

    <section id='disclosure-widget'>
      <h2>Disclosure Widget</h2>

      <h3>Disclosure Widget HTML</h3>
      <pre><code id='disclosure-widget-html-code'></code></pre>

      <h3>Disclosure Widget styles</h3>
      <pre><code>  details summary {
    cursor: pointer;
    list-style-type: '\1F449  '; /* custom icon */
  }
  details[open] {
    background-color: rgb(0 0 0 / 15%);
  }
  details[open] summary {
    margin-block-end: 1em;
    list-style-type: '\1F447  '; /* custom icon */
  }</code></pre>

      <details>
        <summary>Basic example</summary>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent facilisis sem at magna tincidunt, sed posuere velit vulputate. Etiam ultrices sit amet erat eget aliquet. Nulla ut elementum augue. Suspendisse consectetur lacus nec bibendum pellentesque. Sed nec purus ut neque vehicula posuere. Maecenas condimentum lorem in nisi tincidunt porttitor. Integer sed leo ultricies lectus vulputate facilisis eget non odio. Mauris rutrum erat quam, at aliquet justo viverra quis. Aliquam commodo, nibh eget aliquet egestas, nunc ligula elementum augue, eget consequat lectus arcu ac dolor. Phasellus mi lacus, aliquam vitae turpis nec, fringilla gravida odio. Quisque sed rhoncus elit. Donec felis erat, molestie id orci id, dictum aliquam dolor. Morbi porttitor blandit risus sit amet malesuada. Nam quis venenatis est.</p>
      </details>

      <details class='custom-icon-1'>
        <summary>Custom closed icon</summary>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent facilisis sem at magna tincidunt, sed posuere velit vulputate. Etiam ultrices sit amet erat eget aliquet. Nulla ut elementum augue. Suspendisse consectetur lacus nec bibendum pellentesque. Sed nec purus ut neque vehicula posuere. Maecenas condimentum lorem in nisi tincidunt porttitor. Integer sed leo ultricies lectus vulputate facilisis eget non odio. Mauris rutrum erat quam, at aliquet justo viverra quis. Aliquam commodo, nibh eget aliquet egestas, nunc ligula elementum augue, eget consequat lectus arcu ac dolor. Phasellus mi lacus, aliquam vitae turpis nec, fringilla gravida odio. Quisque sed rhoncus elit. Donec felis erat, molestie id orci id, dictum aliquam dolor. Morbi porttitor blandit risus sit amet malesuada. Nam quis venenatis est.</p>
      </details>

      <details class='custom-icon-2'>
        <summary>Custom open and closed icon</summary>
        <p>Ut sagittis nunc enim, ac facilisis risus suscipit sed. Proin varius condimentum eros at maximus. Interdum et malesuada fames ac ante ipsum primis in faucibus. Integer lobortis egestas orci a consequat. Donec semper quam augue, sed ullamcorper eros iaculis eget. In aliquam vulputate sem, vel porta neque molestie a. Morbi vitae est accumsan lacus faucibus feugiat quis id lorem. Aliquam nec eros a odio fringilla pulvinar. Aenean dignissim, nunc sodales dictum cursus, dolor erat laoreet ligula, id tempor nisl est a orci. Donec ac nunc auctor, consequat nibh ut, rhoncus nunc. Quisque malesuada elit sem, eu maximus metus lobortis ac. Nam in pharetra lacus. Nullam diam nibh, vestibulum ut tempus eget, aliquet sagittis purus. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Maecenas vitae turpis eget purus rhoncus egestas. Nunc fermentum interdum magna mollis rhoncus.</p>
      </details>
    </section>

    <section id='icon-button'>
      <h2>Icon button</h2>

      <h3>Icon button HTML</h3>
      <pre><code id='icon-button-html-code'></code></pre>

      <h3>Icon button styles</h3>
      <pre><code>  .icon-button {
    width: 48px;
    height: 48px;
    background-color: transparent;
    border: none;
    cursor: pointer;
    border-radius: 50%;
    transition: box-shadow 0.25s;
  }
  .icon-button:hover {
    box-shadow: 0 3px 9px 1px rgba(0, 0, 0, 0.4);
  }
  .icon-button:active {
    box-shadow: none;
    background-color: rgba(0, 0, 0, 0.2);
  }</code></pre>

      <h3>Global keyboard focus styles</h3>
      <pre><code>  *:focus-visible {
    outline: 2px solid var(--focus-outline-color);
  }</code></pre>
    </section>

    <section id='dialog'>
      <h2>Dialog</h2>

      <h3>Dialog HTML</h3>
      <pre><code id="dialog-html-code"></code></pre>

      <h3>Dialog CSS</h3>
      <pre><code>  dialog {
    background-color: var(--background-color);
    color: var(--text-color);
  }
  dialog::backdrop {
    background: rgb(0 0 0 / .5);
  }
  dialog .icon-button {
    display: block;
  }</code></pre>

      <h3>Dialog JavaScript</h3>
      <pre><code>  const showDialogButton = document.querySelector('#show-dialog-button');
  showDialogButton.addEventListener('click', () => {
    const dialog = document.querySelector(showDialogButton.dataset.dialog);
    dialog.showModal();
  });</code></pre>

      <h3>Focus trap JavaScript</h3>
      <pre><code>  const focusTrapDialog = document.querySelector('#focus-trap-dialog');
  focusTrapDialog.addEventListener('keydown', (event) => {
    if (event.key === 'Tab') {
      const firstFocusableElement = focusTrapDialog.querySelector('.icon-button');
      const lastFocusableElement = focusTrapDialog.querySelector('form[method="dialog"]:last-of-type button');

      if (event.shiftKey) {
        if (document.activeElement === firstFocusableElement) {
          lastFocusableElement.focus();
          event.preventDefault();
        }
      } else if (document.activeElement === lastFocusableElement) {
        firstFocusableElement.focus();
        event.preventDefault();
      }
    }
  });</code></pre>

      <h3>Dialog demos</h3>
      <button
        class="custom-button"
        data-dialog="#basic-dialog"
        id="show-dialog-button"
      >Show dialog</button>
      <button
        class="custom-button"
        data-dialog="#focus-trap-dialog"
        id="show-focus-trap-dialog-button"
      >Show dialog with focus trap</button>
    </section>
  </main>

  <footer>
    <p>GDSC 2023</p>
  </footer>

  <dialog id="basic-dialog">
    <form method="dialog">
      <button class="icon-button" aria-label="auto" aria-live="polite">
        <span hidden>Close dialog</span>
        <svg aria-hidden="true" height="48" width="48" viewBox="0 96 960 960" xmlns="http://www.w3.org/2000/svg">
          <path d="m249 849-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z"/>
        </svg>
      </button>
    </form>

    <p>This is a basic dialog</p>

    <form method="dialog">
      <button class="custom-button">OK</button>
    </form>
  </dialog>

  <dialog id="focus-trap-dialog">
    <form method="dialog">
      <button class="icon-button" aria-label="auto" aria-live="polite">
        <span hidden>Close dialog</span>
        <svg aria-hidden="true" height="48" width="48" viewBox="0 96 960 960" xmlns="http://www.w3.org/2000/svg">
          <path d="m249 849-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z"/>
        </svg>
      </button>
    </form>

    <p>This is a dialog that traps focus so that focus can never leave this dialog</p>

    <!-- Add a few example focusable input elements -->
    <input type="text" placeholder="Example input">
    <button class="custom-button">Example button</button>

    <form method="dialog">
      <button class="custom-button">OK</button>
    </form>
  </dialog>

  <script src="./index.js"></script>
</body>
</html>